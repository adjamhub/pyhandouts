# uv

`uv` è un package and project manager scritto in Rust per i progetti Python. `uv` è pensato per essere una soluzione *all-in-one*
ovvero essere l'unico strumento da utilizzare per:

- scaricare pacchetti da *PyPi* (sostituisce `pip`)
- gestire ambienti virtuali (sostituisce `venv`)
- installare (copie) di Python stesso (sostituisce `pyenv`)
- gestire progetti e le loro dipendenze (sostituisce `pip-tools`, `poetry`, etc...)
- utilizzare ambienti e tools di test e di sviluppo (sostituisce `pipx`, etc... )
- creare pacchetti distribuibili (sostituisce `poetry`, etc...)
- pubblicare pacchetti su *PyPi* (sostituisce `twine`)

In buona sostanza, `uv` è l'unico strumento che dovremo imparare ad utilizzare per fare alcune o tutte queste cose.
E non mi sembra neanche uno strumento difficile da utilizzare :smile:


## installare uv

Su **Windows** puoi utilizzare l'installer di rete. Ti basta aprire il terminale e copiaincollare:

``` bash
> powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
```

Analoga cosa su **MacOS**, apri il terminale ed esegui:

``` bash
$ curl -LsSf https://astral.sh/uv/install.sh | sh
```

Su **Linux** puoi decidere se utilizzare lo stesso comando disponibile per MacOS oppure affidarti al pacchetto disponibile 
nella tua distro!!!


## creare un progetto

Comando semplicissimo:

``` bash
$ uv init --opzione nomeProgetto
```

dove `opzione` è una delle seguenti (ho citato solo le 3 più comuni):


| Opzione         | Build System  | Struttura    | Punto di accesso | Distribuzione          | Casi d'uso                               |
|-----------------|:-------------:|--------------|------------------|------------------------|------------------------------------------|
| --app (default) | no            | flat         | `main.py`        | non inteso             | Web apps, script                         |
| --lib           | sì            | `src` layout | (nessuno)        | PyPi                   | Librerie riutilizzabili                  |
| --package       | sì            | `src` layout | console script   | app installabili, PyPi | CLI, GUI apps                            |


Le app hanno struttura *piatta* ovvero creando un progetto di nome `prova1` si ottiene la seguente struttura:

``` bash
prova1
├── .git
├── .gitignore
├── main.py
├── pyproject.toml
├── .python-version
└── README.md
```

Librerie e pacchetti hanno una struttura con la cartella dei sorgenti, quindi creando un pacchetto di nome `prova2` si ottiene la seguente struttura:

``` bash
prova2
├── .git
├── .gitignore
├── pyproject.toml
├── .python-version
├── README.md
└── src
    └── prova2
        └── __init__.py
```

Notate che in entrambi sono già presenti un repository `git` e un file per il controllo della versione Python in uso.


## Installare Python (per il tuo progetto)

Sì... è vero... non lo avevo ancora detto. Fino a qui potresti anche non avere Python nel tuo computer. Lo installiamo adesso, tramite `uv`. Ne installiamo una copia
locale, solo per il nostro progetto. Il bello sarà che potremmo decidere di installare una versione molto recente (ad esempio la 3.14...) oppure la vecchiotta 3.7.

Nel nostro progetto `uv` ci permetterà di usare solo quella versione installata localmente... di installare in quella tutte le eventuali dipendenze del nostro progetto
(senza *sporcare* altre installazioni...), di gestire tutto in un unico `ambiente virtuale`.

Installing a specific version

To install a specific Python version:

uv python install 3.12

To install multiple Python versions:

uv python install 3.11 3.12

Per sapere quale versione stai usando...


A specific Python version can be requested with the --python flag in most uv commands. For example, when creating a virtual environment:

uv venv --python 3.11.6
